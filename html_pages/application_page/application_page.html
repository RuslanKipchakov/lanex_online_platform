<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lanex — Заявка на обучение</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="container">
    <!-- Логотип -->
    <div class="logo-section">
      <img src="images/logo_header.png" alt="Lanex Logo" class="logo" />
    </div>

    <!-- Контейнер формы -->
    <div class="form-container">
      <h1>Заявка на обучение</h1>

      <form id="applicationForm">
        <input type="hidden" id="telegram_id" name="telegram_id" value="" />

        <!-- Имя -->
        <label for="applicant_name">Имя *</label>
        <input type="text" id="applicant_name" name="applicant_name" required minlength="2" maxlength="50" />
        <div class="error-message" id="error_applicant_name"></div>

        <!-- Телефон -->
        <label for="phone_number">Номер телефона *</label>
        <input type="tel" id="phone_number" name="phone_number"
              placeholder="+998 90 123 45 67"
              required />
        <div class="error-message" id="error_phone_number"></div>

        <!-- Возраст -->
        <label for="applicant_age">Возраст *</label>
        <input type="number" id="applicant_age" name="applicant_age" required min="6" max="99" />
        <div class="error-message" id="error_applicant_age"></div>

        <!-- Формат обучения -->
        <fieldset>
          <legend>Формат обучения (можно несколько) *</legend>
          <label><input type="checkbox" name="preferred_class_format" value="individual" /> Индивидуально</label>
          <label><input type="checkbox" name="preferred_class_format" value="pair" /> В паре</label>
          <label><input type="checkbox" name="preferred_class_format" value="group" /> В группе</label>
        </fieldset>
        <div class="error-message" id="error_preferred_class_format"></div>


        <!-- Тип урока -->
        <fieldset>
          <legend>Тип урока (можно несколько) *</legend>
          <label><input type="checkbox" name="preferred_study_mode" value="online" /> Онлайн</label>
          <label><input type="checkbox" name="preferred_study_mode" value="offline" /> В классе</label>
        </fieldset>
        <div class="error-message" id="error_preferred_study_mode"></div>

        <!-- Предполагаемый уровень -->
        <fieldset>
          <legend>Предполагаемый уровень</legend>
          <label><input type="radio" name="level" value="Starter" /> Starter</label>
          <label><input type="radio" name="level" value="Elementary" /> Elementary</label>
          <label><input type="radio" name="level" value="Pre-Intermediate" /> Pre-Intermediate</label>
          <label><input type="radio" name="level" value="Intermediate" /> Intermediate</label>
          <label><input type="radio" name="level" value="Upper-Intermediate" /> Upper-Intermediate</label>
        </fieldset>

        <!-- Возможное расписание -->
        <fieldset>
          <legend>Возможное расписание *</legend>
          <div class="error-message" id="error_schedule"></div>
          <div class="schedule-grid">
            <!-- Здесь JS будет генерировать input[name="schedule"] -->
          </div>
        </fieldset>

        <!-- IELTS/TOEFL -->
        <fieldset>
          <legend>Планируете сдавать IELTS или TOEFL?</legend>
          <label><input type="radio" name="need_ielts" value="true" /> Да</label>
          <label><input type="radio" name="need_ielts" value="false" /> Нет</label>
        </fieldset>

        <!-- Изучали ли ранее -->
        <fieldset>
          <legend>Изучали ли ранее английский язык?</legend>
          <label><input type="checkbox" name="previous_experience" value="never" /> Никогда</label>
          <label><input type="checkbox" name="previous_experience" value="school" /> В школе</label>
          <label><input type="checkbox" name="previous_experience" value="university" /> В вузе</label>
          <label><input type="checkbox" name="previous_experience" value="courses" /> На курсах</label>
          <label><input type="checkbox" name="previous_experience" value="self_study" /> Самостоятельно</label>
        </fieldset>

        <!-- Ранее занимались в Lanex -->
        <fieldset>
          <legend>Занимались ли ранее в Lanex?</legend>
          <label><input type="radio" name="studied_at_lanex" value="true" /> Да</label>
          <label><input type="radio" name="studied_at_lanex" value="false" /> Нет</label>
        </fieldset>

        <!-- Откуда узнали -->
        <fieldset>
          <legend>Откуда вы о нас узнали?</legend>
          <label><input type="radio" name="reference_source" value="friends" /> Друзья</label>
          <label><input type="radio" name="reference_source" value="internet" /> Интернет</label>
          <label><input type="radio" name="reference_source" value="telegram" /> Telegram</label>
          <label><input type="radio" name="reference_source" value="other" /> Другое</label>
        </fieldset>

        <!-- Кнопки -->
        <div class="buttons">
          <button type="button" id="cancelBtn">Назад</button>
          <button type="submit" id="submitBtn" disabled>Оставить заявку</button>
        </div>
      </form>
    </div>

    <!-- Модальное окно -->
    <div id="successModal" class="modal">
      <div class="modal-content">
        <h2>Заявка отправлена ✅</h2>
        <p>Администратор скоро свяжется с вами.</p>
        <button id="okBtn">ОК</button>
      </div>
    </div>
  </div>

  <!-- Индикатор загрузки -->
  <div id="loader" class="loader-overlay">
    <div class="loader-spinner"></div>
    <p>Отправляем заявку...</p>
  </div>

  <!-- JS -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script type="module" src="js/application_main.js"></script>
</body>
</html>
